<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9">
      <meta name="ch:resourceid" content="Ajoptions" scheme="atiChunkerMeta">
      
      
      
      
      
      
      <link href="css/styler.css" rel="stylesheet" type="text/css">
      <title>Java Options and Debugging</title>
   
<SCRIPT LANGUAGE="JAVASCRIPT">
  function findProperNode() { top.frames[0].document.apiwizard.manual("MANAJOPTIONS0", location.hash); }
</SCRIPT>

</head>
   <body onLoad="findProperNode()">
      
         
         <a name="0"> </a><div class=" x-title-65-0 x-title-65-1" combinedFontName="off" id="styler-id1.1.1.49.1" class="ChapterTitle">Java Options and Debugging</div>
         <div class=" x-body-2-0">
            <div class=" x-p-7-0">This <span class=" x-ph-2-0"><span xmlns="" profilecode="100000000">section</span></span> describes how to control the procedure used by <span class=" x-ph-2-0" id="Ajoptions_JavaOptionsAndDebugging-BA1F3CEA_PTCCreo-EC6F7_52_9">Creo</span> applications to invoke synchronous <span class=" x-ph-2-0" id="Ajoptions_JavaOptionsAndDebugging-BA1F3CEA_PTCCreoObject_52_10">Creo Object TOOLKIT Java</span> applications to enable you to use a non-default JVM or to debug your applications.
            </div>
         </div>
         <div class=" x-topic-4-0 x-topic-4-1 x-topic-4-2" combinedFontName="off" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_52_11">
            
            <a name="1"> </a><div class=" x-title-33-0 x-title-33-2" combinedFontName="off" id="styler-id1.1.1.49.3.1" class="Heading1">Supported Java Virtual Machine Versions</div>
            <div class=" x-body-3-0">
               <div class=" x-p-7-0">The machine information for the JVM versions supported by <span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_15">Creo Object TOOLKIT Java</span> is available at <a class=" x-xref-4-0" href="http://support.ptc.com/partners/hardware/current/support.htm">http://support.ptc.com/partners/hardware/current/support.htm</a>.
               </div>
               <div class=" x-p-7-0">The <span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_18">Creo</span> installation includes a default JVM shipped as a part of its CD image. For synchronous <span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_15">Creo Object TOOLKIT Java</span> applications, <span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_18">Creo</span> uses the shipped JVM by default.
               </div>
               <div class=" x-p-7-0"><span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_18">Creo</span> application includes the ability to override the default JVM command used to invoke <span class=" x-ph-2-0" id="Ajoptions_SupportedJavaVirtualMachineVersions-BA21FAC2_P_52_15">Creo Object TOOLKIT Java</span> applications. This allows you to:
               </div>
               <div class=" x-ul-2-0">
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-13-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                           <td><span class=" x-p-4-0">Use a non-standard JVM in your deployment, if that JVM has a feature or a fix that is necessary for your application to work
                                 correctly.</span></td>
                        </tr>
                     </tbody>
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-14-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                           <td><span class=" x-p-4-0">Apply command line flags to the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">Java</span></span> invocation, thus allowing it to be used for debugging or other customized purposes.</span></td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
         <div class=" x-topic-8-0 x-topic-8-1 x-topic-8-2" id="Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_52_30">
            
            <a name="2"> </a><div class=" x-title-33-0 x-title-33-2" combinedFontName="off" id="styler-id1.1.1.49.4.1" class="Heading1">Synchronous Creo Object TOOLKIT Java</div>
            <div class=" x-body-3-0">
               <div class=" x-p-7-0">The JVM that is used can be overridden using one of the following mechanisms:</div>
               <div class=" x-ul-2-0">
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-13-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                           <td><span class=" x-p-4-0">The configuration option <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">jlink_java_command</span></span>, if set to the path to the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">java</span></span> executable, will determine the JVM be used to start synchronous <span class=" x-ph-2-0" id="Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_P_52_39">Creo Object TOOLKIT Java</span> applications.  </span></td>
                        </tr>
                     </tbody>
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-14-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                           <td><span class=" x-p-4-0">The environment variable <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">PRO_JAVA_COMMAND</span></span> serves the same purpose as the configuration option. The environment variable takes precedence over the configuration option.</span></td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <div class=" x-note-2-0 x-note-2-3">
                  <div class=" x--ufe-note-1-0 x--ufe-note-1-1" combinedFontName="off">Note</div>
                  <div class=" x-p-7-0">The appropriate flags for synchronous <span class=" x-ph-2-0" id="Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_P_52_39">Creo Object TOOLKIT Java</span> as well as the flags for the user-supplied JRE must be used. The synchronous <span class=" x-ph-2-0" id="Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_P_52_39">Creo Object TOOLKIT Java</span> flags are listed on the <span class=" x-ph-2-0" id="Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_P_52_39">Creo Object TOOLKIT Java</span> platform page. It is recommended that you update the version of the JVM on your machine to the minimum supported version
                     for the platform.
                  </div>
               </div>
            </div>
         </div>
         <div class=" x-topic-8-0 x-topic-8-1 x-topic-8-2" id="Ajoptions_DebuggingASynchronousModeApplicatio-BA222A04_52_48">
            
            <a name="3"> </a><div class=" x-title-33-0 x-title-33-2" combinedFontName="off" id="styler-id1.1.1.49.5.1" class="Heading1">Debugging a Synchronous Mode Application</div>
            <div class=" x-body-3-0">
               <div class=" x-p-7-0">As <span class=" x-ph-2-0" id="Ajoptions_DebuggingASynchronousModeApplicatio-BA222A04_P_52_52">Creo</span> application has control over the start and stop of <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">Java</span></span> processes used by <span class=" x-ph-2-0" id="Ajoptions_DebuggingASynchronousModeApplicatio-BA222A04_P_52_54">Creo Object TOOLKIT Java</span>, you must use special controls to be able to debug an application. The most typical deployment should do the following:
               </div>
               <div class=" x-ol-6-0">
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-11-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0.00em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">1.</td>
                           <td><span class=" x-p-4-0">Use the appropriate <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">javac</span></span> compiler flags to build the application debuggable.</span></td>
                        </tr>
                     </tbody>
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-15-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0.00em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">2.</td>
                           <td><span class=" x-p-4-0">Use the technique described in the section <a href="#Ajoptions_OverridingTheJavaCommandUsedBySynch-BA220E93_52_30" class=" x-xref-4-0 x-xref-4-5 x-xref-4-6 x-xref-4-9">Synchronous Creo Object TOOLKIT Java</a> to set the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">Java</span></span> command to the appropriate debug command line, for example, <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">[JDK_HOME]/bin/java.exe -Xdebug</span></span></span></td>
                        </tr>
                     </tbody>
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-15-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0.00em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">3.</td>
                           <td><span class=" x-p-4-0">Start the <span class=" x-ph-2-0" id="Ajoptions_DebuggingASynchronousModeApplicatio-BA222A04_P_52_52">Creo</span> application and let it invoke the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">Java</span></span> application.</span></td>
                        </tr>
                     </tbody>
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" class=" x-li-12-0" style="table-layout: fixed; " width="100%">
                     <col style="width: 0.00em">
                     <col style="width: 18pt">
                     <col>
                     <tbody>
                        <tr valign="baseline">
                           <td align="right"></td>
                           <td align="left" style="word-break: keep-all; ">4.</td>
                           <td><span class=" x-p-4-0">Attach your <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">Java</span></span> debugger to the process that was started by the <span class=" x-ph-2-0" id="Ajoptions_DebuggingASynchronousModeApplicatio-BA222A04_P_52_52">Creo</span> application.</span></td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <div class=" x-p-7-0">If you need to debug within the application start method, you can make the first invocation within that method a UI popup
                  dialog box (<span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">javax.swing.JOptionPane</span></span>) which will allow time to attach the debugger to the process.
               </div>
            </div>
         </div>
         <div class=" x-topic-8-0 x-topic-8-1 x-topic-8-2" id="Ajoptions_CLASSPATHVariables-BA20283C6_128">
            
            <a name="4"> </a><div class=" x-title-33-0 x-title-33-2" combinedFontName="off" id="styler-id1.1.1.49.6.1" class="Heading1">CLASSPATH Variables</div>
            <div class=" x-topic-11-0 x-topic-11-1" id="Ajoptions_SynchronousMode-BA22521C_52_76">
               
               <a name="5"> </a><div class=" x-title-27-0 x-title-27-2" combinedFontName="off" id="styler-id1.1.1.49.6.2.1" class="Heading2">Synchronous Mode</div>
               <div class=" x-body-3-0">
                  <div class=" x-p-7-0">If you are using the default JVM and are running <span class=" x-ph-2-0" id="Ajoptions_SynchronousMode-BA22521C_PTCCreoObjectToolkitJ_52_80">Creo Object TOOLKIT Java</span> applications on your machine, you need to add only your application classes to the classpath. The mechanisms to accomplish
                     this are:
                  </div>
                  <div class=" x-ul-2-0">
                     <table border="0" cellpadding="0" cellspacing="0" class=" x-li-13-0" style="table-layout: fixed; " width="100%">
                        <col style="width: 0em">
                        <col style="width: 18pt">
                        <col>
                        <tbody>
                           <tr valign="baseline">
                              <td align="right"></td>
                              <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                              <td><span class=" x-p-4-0">Setting the environment variable <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">CLASSPATH</span></span>.</span></td>
                           </tr>
                        </tbody>
                     </table>
                     <table border="0" cellpadding="0" cellspacing="0" class=" x-li-16-0" style="table-layout: fixed; " width="100%">
                        <col style="width: 0em">
                        <col style="width: 18pt">
                        <col>
                        <tbody>
                           <tr valign="baseline">
                              <td align="right"></td>
                              <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                              <td><span class=" x-p-4-0">Using the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">java_app_classpath</span></span> field in the registry file. This field has a character limit of 2047 wide characters (<span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">wchar_t</span></span>).</span></td>
                           </tr>
                        </tbody>
                     </table>
                     <table border="0" cellpadding="0" cellspacing="0" class=" x-li-14-0" style="table-layout: fixed; " width="100%">
                        <col style="width: 0em">
                        <col style="width: 18pt">
                        <col>
                        <tbody>
                           <tr valign="baseline">
                              <td align="right"></td>
                              <td align="left" style="word-break: keep-all; ">&#8226;&nbsp;</td>
                              <td><span class=" x-p-4-0">Loading a user-specified Jar file through the user interface (only available for a model program).</span></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <div class=" x-p-7-0"><span class=" x-ph-2-0" id="Ajoptions_SynchronousMode-BA22521C_PTCCreo-EC6F7D2F_52_92">Creo</span> application will automatically add the <span class=" x-ph-2-0" id="Ajoptions_SynchronousMode-BA22521C_PTCCreoObjectToolkitJ_52_80">Creo Object TOOLKIT Java</span> archive <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">otk.jar</span></span> to the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">CLASSPATH</span></span>.
                  </div>
                  <div class=" x-p-7-0">To compile <span class=" x-ph-2-0" id="Ajoptions_SynchronousMode-BA22521C_PTCCreoObjectToolkitJ_52_80">Creo Object TOOLKIT Java</span> applications, the environment variable <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">CLASSPATH</span></span> must include the path to the locations of classes and archives that you intend to use. Also, you must add <span class=" x-ph-2-0" id="Ajoptions_SynchronousMode-BA22521C_PTCCreoObjectToolkitJ_52_80">Creo Object TOOLKIT Java</span> archive <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">otk.jar</span></span> to the <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">CLASSPATH</span></span>. This archive is located at <span class=" x-codeph-2-0" combinedFontName="Monospace-combined"><span xmlns="" class="cf-Monospace-combined-European_Alphabets">&lt;creo_loadpoint&gt;\&lt;version&gt;\Common Files\text\java\otk.jar</span></span>.
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>
